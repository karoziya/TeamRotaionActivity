@page "/activities"
@using TeamRotationActivity.Domain.Interfaces.Services
@inject IActivityService ActivityService
@inject NavigationManager NavigationManager

<div class="row">
    <div class="col-11"><h3>Activity</h3></div>
    <div class="col-1">
        <button class="btn btn-primary" @onclick="CreateActivity">Добавить</button>
    </div>
</div>
<br />
<table class="table">
    <thead>
    <tr class ="row">
        <th class="col-4">#</th>
        <th class="col-3">Name</th>
        <th class="col-3">Description</th>
        <th class="col-1">Count Members</th>
        <th class="col-1">Rotation Period</th>
    </tr>
    </thead>
    @if (ActivityService.GetAll().Any())
    {
        @foreach (var activity in ActivityService.GetAll())
        {
            <tbody>
            <tr class="row">
                <td class="col-2">@activity.Id</td>
                <td class="col-3">@activity.Name</td>
                <td class="col-3">@activity.Description</td>
                <td class="col-1">@activity.Members?.Count()</td>
                <td class="col-3">@activity.RotationPeriod</td>
            </tr>
            </tbody>
        }
    }
</table>

@code {

    private void CreateActivity()
    {
        NavigationManager.NavigateTo("/activities/add");
    }
}
